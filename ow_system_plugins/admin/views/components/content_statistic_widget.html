{style}
    #admin-content-statistics-header #content-statistics-form {
        float:left;
    }

    #admin-content-statistics-header #content-statistics-form select {
        width:200px;
    }

    #admin-content-statistics-header #content-statistics-menu {
        float:right;
    }

    #admin-content-statistics-container {
        width:100%;
        height:300px;
    }

    #admin-content-statistics-container #content-statistics-chart {
        width:100%;
        height: 100%;
    }

    #admin-content-statistics-container .ow_ajaxloader_preloader {
        min-height:300px;
    }
{/style}

<div id="admin-content-statistics-header">
    {form name="content_statistics_form"}
        <div id="content-statistics-form">
            {input name="group"}
        </div>
    {/form}
    <div id="content-statistics-menu">
        {$menu}
    </div>
    <div class="clearfix"></div>
</div>

<div id="admin-content-statistics-container">
    {$statistics}
</div>

{script}
    $(document).ready(function() {
        var defaultPeriod = "{$defaultPeriod}";
        var defaultContentGroup = "{$defaultContentGroup}";

        $("#content-statistics-menu a").on("click", function(){
            defaultPeriod = $(this).attr("id");
            defaultPeriod = defaultPeriod.replace(/content-statistics-/, "");

            reloadChart();
        });

        $("#content-statistics-form select").on("change", function(){
            defaultContentGroup = $(this).val();
            reloadChart();
        });

        /**
         * Reload chart
         *
         * @return void
         */
        function reloadChart()
        {
            if (!defaultContentGroup || !defaultPeriod)
            {
                return;
            }

            OW.loadComponent("ADMIN_CMP_ContentStatistic", [{
                "defaultContentGroup" : defaultContentGroup,
                "defaultPeriod" : defaultPeriod
            }], "#admin-content-statistics-container");
        }
    });
{/script}